<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åˆ†ç±»æŒ‰é’®é«˜äº®æµ‹è¯•</title>
    <link rel="stylesheet" href="public/style-css.css">
    <style>
        body {
            background: #000119;
            color: white;
            padding: 20px;
            font-family: Arial, sans-serif;
        }
        .test-section {
            margin: 20px 0;
            padding: 20px;
            border: 1px solid #333;
            border-radius: 8px;
        }
        .test-button {
            background: #0089f7;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 5px;
            cursor: pointer;
        }
        .test-menu-item {
            background: rgba(30, 41, 59, 0.8);
            margin: 10px 0;
            padding: 15px;
            border-radius: 8px;
            min-height: 60px;
            display: flex;
            align-items: center;
        }
        .category-buttons {
            display: flex;
            gap: 10px;
            margin: 20px 0;
        }
        .btn-foodlvl2, .btn-drinkslvl2 {
            background: #28a745;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            text-decoration: none;
            display: inline-block;
        }
    </style>
</head>
<body class="theme-blue-dragon">
    <h1>ğŸ”¥ åˆ†ç±»æŒ‰é’®é«˜äº®åŠ¨ç”»æµ‹è¯•</h1>
    
    <div class="test-section">
        <h2>1. æ‰‹åŠ¨é«˜äº®æµ‹è¯•</h2>
        <button class="test-button" onclick="testHighlight('item1')">æµ‹è¯•é¡¹ç›®1é«˜äº®</button>
        <button class="test-button" onclick="testHighlight('item2')">æµ‹è¯•é¡¹ç›®2é«˜äº®</button>
        <button class="test-button" onclick="testHighlight('item3')">æµ‹è¯•é¡¹ç›®3é«˜äº®</button>
        
        <div id="item1" class="test-menu-item menu-item" data-group="voorgerechten">
            <h3>æµ‹è¯•èœå•é¡¹ç›® 1 - å‰èœç±»</h3>
        </div>
        
        <div id="item2" class="test-menu-item menu-item" data-group="hoofdgerechten">
            <h3>æµ‹è¯•èœå•é¡¹ç›® 2 - ä¸»èœç±»</h3>
        </div>
        
        <div id="item3" class="test-menu-item menu-item" data-group="desserts">
            <h3>æµ‹è¯•èœå•é¡¹ç›® 3 - ç”œå“ç±»</h3>
        </div>
    </div>
    
    <div class="test-section">
        <h2>2. åˆ†ç±»æŒ‰é’®æµ‹è¯•</h2>
        <p>è¿™äº›æŒ‰é’®æ¨¡æ‹ŸçœŸå®çš„åˆ†ç±»æŒ‰é’®</p>
        <div class="category-buttons">
            <a href="#voorgerechten" class="btn-foodlvl2">å‰èœ Voorgerechten</a>
            <a href="#hoofdgerechten" class="btn-foodlvl2">ä¸»èœ Hoofdgerechten</a>
            <a href="#desserts" class="btn-drinkslvl2">ç”œå“ Desserts</a>
        </div>
        
        <div id="voorgerechten" class="test-menu-item menu-item" data-group="voorgerechten">
            <h3>ğŸ¥— å‰èœåŒºåŸŸ - Voorgerechten Section</h3>
        </div>
        
        <div id="hoofdgerechten" class="test-menu-item menu-item" data-group="hoofdgerechten">
            <h3>ğŸ– ä¸»èœåŒºåŸŸ - Hoofdgerechten Section</h3>
        </div>
        
        <div id="desserts" class="test-menu-item menu-item" data-group="desserts">
            <h3>ğŸ° ç”œå“åŒºåŸŸ - Desserts Section</h3>
        </div>
    </div>

    <div class="test-section">
        <h2>3. è°ƒè¯•ä¿¡æ¯</h2>
        <button class="test-button" onclick="showDebugInfo()">æ˜¾ç¤ºè°ƒè¯•ä¿¡æ¯</button>
        <div id="debug-output" style="background: #222; padding: 10px; margin-top: 10px; font-family: monospace; white-space: pre-wrap;"></div>
    </div>

    <script>
        // é«˜äº®æµ‹è¯•å‡½æ•°
        function testHighlight(elementId) {
            console.log('ğŸ”¥ æµ‹è¯•é«˜äº®:', elementId);
            const element = document.getElementById(elementId);
            if (element) {
                animateHighlight(element);
                element.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        }

        // å¤åˆ¶ä¸»é¡µé¢çš„é«˜äº®å‡½æ•°
        function animateHighlight(element) {
            console.log('ğŸ¯ animateHighlight called for:', element);
            // ç§»é™¤ä¹‹å‰çš„é«˜äº®ç±»ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
            element.classList.remove('highlight-target');
            
            // å¼ºåˆ¶é‡æ–°æ¸²æŸ“
            element.offsetHeight;
            
            // æ·»åŠ é«˜äº®ç±»è§¦å‘åŠ¨ç”»
            element.classList.add('highlight-target');
            console.log('âœ… Added highlight-target class');
            
            // 1.5ç§’åè‡ªåŠ¨ç§»é™¤ç±»
            setTimeout(() => {
                element.classList.remove('highlight-target');
                console.log('ğŸ”„ Removed highlight-target class');
            }, 1500);
        }

        // è°ƒè¯•ä¿¡æ¯
        function showDebugInfo() {
            const debug = document.getElementById('debug-output');
            const info = {
                'é«˜äº®CSSç±»å­˜åœ¨': !!getComputedStyle(document.body).getPropertyValue('--blue-dragon-accent'),
                'åˆ†ç±»æŒ‰é’®æ•°é‡': document.querySelectorAll('.btn-foodlvl2, .btn-drinkslvl2').length,
                'èœå•é¡¹æ•°é‡': document.querySelectorAll('.menu-item').length,
                'é«˜äº®æ ·å¼': {
                    'highlight-targetç±»': !!Array.from(document.styleSheets).some(sheet => {
                        try {
                            return Array.from(sheet.cssRules).some(rule => 
                                rule.selectorText && rule.selectorText.includes('highlight-target')
                            );
                        } catch(e) { return false; }
                    })
                }
            };
            debug.textContent = JSON.stringify(info, null, 2);
        }

        // æ¨¡æ‹Ÿä¸»é¡µé¢çš„äº‹ä»¶ç›‘å¬å™¨
        document.addEventListener('click', function (e) {
            console.log('ğŸ–±ï¸ Click detected on:', e.target);
            const target = e.target.closest('.btn-foodlvl2, .btn-drinkslvl2, .btn-lvl3, #service-btn, #btn-service-main');
            if (!target) {
                console.log('âŒ No target found');
                return;
            }

            console.log('âœ… Target found:', target);
            e.preventDefault();
            const targetId = target.getAttribute('href')?.replace('#', '');
            console.log('ğŸ¯ Target ID:', targetId);
            
            let targetElement = document.getElementById(targetId);
            console.log('ğŸ“ Target element:', targetElement);
            
            // å¦‚æœæ‰¾ä¸åˆ°ç²¾ç¡®çš„ç›®æ ‡å…ƒç´ ï¼Œå°è¯•æŸ¥æ‰¾å¯¹åº”åˆ†ç»„çš„ç¬¬ä¸€ä¸ªèœå•é¡¹
            if (!targetElement && targetId) {
                console.log('ğŸ” Searching for fallback element...');
                const menuItems = document.querySelectorAll('.menu-item[data-group]');
                console.log('ğŸ“‹ Available menu items:', menuItems.length);
                
                for (const item of menuItems) {
                    const itemGroup = item.getAttribute('data-group');
                    console.log('ğŸ·ï¸ Checking group:', itemGroup, 'against target:', targetId);
                    
                    if (itemGroup && (itemGroup.toLowerCase().includes(targetId.toLowerCase()) || 
                        targetId.toLowerCase().includes(itemGroup.toLowerCase()))) {
                        targetElement = item;
                        console.log('âœ… Found fallback element:', targetElement);
                        break;
                    }
                }
                
                if (!targetElement) {
                    const buttonText = target.textContent.toLowerCase().trim();
                    console.log('ğŸ” Searching by button text:', buttonText);
                    for (const item of menuItems) {
                        const itemGroup = item.getAttribute('data-group');
                        if (itemGroup && itemGroup.toLowerCase().includes(buttonText)) {
                            targetElement = item;
                            console.log('âœ… Found element by button text:', targetElement);
                            break;
                        }
                    }
                }
            }
            
            if (targetElement) {
                console.log('ğŸŠ Highlighting target element:', targetElement);
                targetElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
                animateHighlight(targetElement);
            } else {
                console.warn(`âŒ æœªæ‰¾åˆ°ç›®æ ‡å…ƒç´ : ${targetId}`);
            }
        });

        // é¡µé¢åŠ è½½åæ˜¾ç¤ºè°ƒè¯•ä¿¡æ¯
        window.addEventListener('load', () => {
            console.log('ğŸš€ Test page loaded');
            showDebugInfo();
        });
    </script>
</body>
</html>